(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,t,n){e.exports=n.p+"static/media/event.f63d8ca5.jpg"},60:function(e,t,n){e.exports=n(85)},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(16),o=n.n(c),l=n(25),i=n(32),s=n(44),m=n(45),u=n(58),E=n(46),d=n(59),f=n(19),p=function(e){return{type:"MORE_EVENTS",data:e}},v=function(){return{type:"LOADING_EVENTS"}},h=function(){return{type:"MORELOADING_EVENTS"}},g=function(e){return{type:"ADD_EVENTS",data:e}},b=function(e){return{type:"FAILED_EVENTS",data:e}},_=n(13),N=n(92),O=n(93),w=n(94),j=n(95),M=n(96),k=n(97),L=n(98),T=n(48),y=n(113),D=n(86),S=n(87),I=n(88),A=n(89),x=n(90),V=n(91),C=function(e){var t=Object(a.useState)(""),n=Object(_.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),i=Object(_.a)(l,2),s=i[0],m=i[1];return r.a.createElement(y.a,{isOpen:e.isOpen},r.a.createElement(D.a,{toggle:e.toggleLogin},"Login"),r.a.createElement(S.a,null,r.a.createElement(I.a,{onSubmit:function(t){t.preventDefault(),console.log(c,s),e.toggleLogin(),o(""),m("")}},r.a.createElement(A.a,null,r.a.createElement(x.a,{htmlFor:"username"},"Username"),r.a.createElement(V.a,{type:"text",id:"username",name:"username",value:c,onChange:function(e){var t=e.target;return o(t.value)}})),r.a.createElement(A.a,null,r.a.createElement(x.a,{htmlFor:"password"},"Password"),r.a.createElement(V.a,{type:"password",id:"password",name:"password",value:s,onChange:function(e){var t=e.target;return m(t.value)}})),r.a.createElement(T.a,{color:"info"},"Login"))))},R=function(e){var t=Object(a.useState)(!1),n=Object(_.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(!1),i=Object(_.a)(l,2),s=i[0],m=i[1],u=function(){return o(!c)};return e.show?r.a.createElement("div",{className:"header"},r.a.createElement(N.a,{fixed:"top",color:"white",expand:"md"},r.a.createElement("div",{className:"container"},r.a.createElement(O.a,{onClick:function(){return m(!s)}}),r.a.createElement(w.a,{href:"/"},"Events"),r.a.createElement(j.a,{isOpen:s,navbar:!0},r.a.createElement(M.a,{navbar:!0},r.a.createElement(k.a,null,r.a.createElement(L.a,{className:"nav-link",href:"/"},"Home")),r.a.createElement(k.a,null,r.a.createElement(L.a,{className:"nav-link",href:"/"},"Archive")),r.a.createElement(k.a,null,r.a.createElement(L.a,{className:"nav-link",href:"/"},"Category")),r.a.createElement(k.a,null,r.a.createElement(L.a,{className:"nav-link",href:"/"},"About")),r.a.createElement(k.a,null,r.a.createElement(L.a,{className:"nav-link",href:"/"},"Contact"))),r.a.createElement(T.a,{color:"white",onClick:u,className:"ml-auto"},r.a.createElement("span",{className:"fa fa-sign-in fa-lg"})," Login")))),r.a.createElement(C,{toggleLogin:u,isOpen:c})):null},G=n(99),U=n(100),F=n(101),H=function(e){return e.show?null:r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement(U.a,{className:"text-center mt-3 mb-3"},r.a.createElement(F.a,null,r.a.createElement("ul",null,r.a.createElement("a",{className:"btn btn-social-icon btn-facebook",href:"/"},r.a.createElement("li",{className:"fa fa-facebook fa-lg"})),r.a.createElement("a",{className:"btn btn-social-icon btn-twitter",href:"/"},r.a.createElement("li",{className:"fa fa-twitter fa-lg"})),r.a.createElement("a",{className:"btn btn-social-icon btn-instagram",href:"/"},r.a.createElement("li",{className:"fa fa-instagram fa-lg"})),r.a.createElement("a",{className:"btn btn-social-icon btn-pinterest",href:"/"},r.a.createElement("li",{className:"fa fa-pinterest fa-lg"})))))))},B=(n(49),n(102)),P=n(103),z=n(104),J=n(106),Y=n(107),W=n(108),q=n(109),K=n(110),Q=n(53),X=n.n(Q),Z=function(e){var t=Math.floor((+new Date(e.start_time)-+new Date(e.end_time))/60/1e3);return"".concat(Math.floor(t/60),":").concat("0".concat(t%60).slice(-2))},$=function(e){return e.split(/[^0-9A-z]/).join("")},ee=function(e,t){return Object.keys(t).reduce(function(e,n,a){return"".concat(e).concat(0===a?"?":"&").concat(n,"=").concat(encodeURIComponent(t[n]))},e)},te=function(e){return e.length<1?X.a:e.map(function(e){return e.url})[0]},ne=function(e){return e.info_url?e.info_url.en?e.info_url.en:e.info_url.fi:"/"},ae=function(e){return ee("https://calendar.google.com/calendar/event",{action:"TEMPLATE",dates:"".concat(e.start_time?$(e.start_time):"","/").concat(e.end_time?$(e.end_time):""),text:e.name.en?e.name.en:e.name.fi,details:e.short_description?e.short_description.en?e.short_description.en:e.short_description.fi:"",location:e.location.name.en?e.location.name.en:e.location.name.fi})},re=function(e){return ee("https://outlook.live.com/owa",{rru:"addevent",startdt:e.start_time?$(e.start_time):"",enddt:e.end_time?$(e.end_time):"",subject:e.name.en?e.name.en:e.name.fi,location:e.location.name.en?e.location.name.en:e.location.name.fi,body:e.short_description?e.short_description.en?e.short_description.en:e.short_description.fi:"",allday:!1,uid:(new Date).getTime().toString(),path:"/calendar/view/Month"})},ce=function(e){return ee("https://calendar.yahoo.com",{v:60,view:"d",type:20,title:e.name.en?e.name.en:e.name.fi,st:e.start_time?$(e.start_time):"",dur:Z(e),desc:e.short_description?e.short_description.en?e.short_description.en:e.short_description.fi:"",in_loc:e.location.name.en?e.location.name.en:e.location.name.fi})},oe=function(e){var t=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:".concat(document.URL),"DTSTART:".concat(e.start_time?$(e.start_time):""),"DTEND:".concat(e.end_time?$(e.end_time):""),"SUMMARY:".concat(e.name.en?e.name.en:e.name.fi),"DESCRIPTION:".concat(e.short_description?e.short_description.en?e.short_description.en:e.short_description.fi:""),"LOCATION:".concat(e.location.name.en?e.location.name.en:e.location.name.fi),"END:VEVENT","END:VCALENDAR"];return encodeURI("data:text/calendar;charset=utf8,".concat(t.join("\n")))},le=n(105),ie=function(e){var t=e.event,n=Object(a.useState)(!1),c=Object(_.a)(n,2),o=c[0],l=c[1];return r.a.createElement(le.a,{isOpen:o,toggle:function(){l(!o)}},r.a.createElement(B.a,{outline:!0,color:"warning"},r.a.createElement("span",null,"Add to Calender")),r.a.createElement(P.a,{style:{zIndex:2222}},r.a.createElement(z.a,{target:"_blank",href:ae(t)},"Google"),r.a.createElement(z.a,{target:"_blank",href:re(t)},"Outlook "),r.a.createElement(z.a,{target:"_blank",href:ce(t)},"Yahoo"),r.a.createElement(z.a,{href:oe(t)},"iCal")))},se=function(e){var t,n,a=e.event,c=a.name.en?a.name.en:a.name.fi,o=(t=a).short_description?t.short_description.en?t.short_description.en:t.short_description.fi:"";return r.a.createElement(F.a,{md:4},r.a.createElement(J.a,{className:"card-wrapper"},r.a.createElement(l.b,{to:"/events/".concat(a.id),href:ne(a)},r.a.createElement(Y.a,{className:"img-thumbnail",src:te(a.images)})),r.a.createElement("span",{className:"time"},(n=a.start_time,new Intl.DateTimeFormat("en-us",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(n)))," ",function(e){return e.split("T")}(a.start_time)[1].substring(0,5)),r.a.createElement(W.a,null,r.a.createElement(q.a,null,c?c.length<30?c:"".concat(c.substring(0,25),"..."):"event"),r.a.createElement(K.a,null,o?o.length<80?o:"".concat(o.substring(0,80),"..."):"description...")),r.a.createElement(ie,{event:a})))},me=function(e){var t=e.text;return r.a.createElement("div",{className:"splash-screen"},t,r.a.createElement("div",{className:"loading-dot"},"."))},ue=function(e){return e.eventsLoading?r.a.createElement(me,null):e.eventsErrMess?r.a.createElement("h4",null,e.eventsErrMess):r.a.createElement(G.a,null,r.a.createElement(U.a,null,r.a.createElement(F.a,null)),r.a.createElement(U.a,null,e.events.map(function(e){return r.a.createElement(se,{key:e.id,event:e})}),e.moreEventsLoading?r.a.createElement(me,{text:"Wait a moment while we load your app."}):null,r.a.createElement(T.a,{color:"warning",block:!0,onClick:e.addMoreEvents},"More Events...")))},Ee=n(112),de=n(5),fe=n.n(de),pe=function(e){var t=e.event,n=e.toggle,a=e.activaTab;return t.description?Object.keys(t.description).map(function(e){return r.a.createElement(k.a,{key:e},r.a.createElement(L.a,{className:fe()({active:a===e}),onClick:function(){return n(e)}},e))}):r.a.createElement("div",null,t.name.fi)},ve=n(111),he=function(e){var t=e.event;if(console.log(t),!t.description)return r.a.createElement("div",null,"Information not provided yet");var n=Object.keys(t.description),a=t.name.en?t.name.en:t.name.fi;return n.map(function(e){return r.a.createElement(ve.a,{key:e,tabId:e},r.a.createElement(U.a,null,r.a.createElement(F.a,null,r.a.createElement(q.a,null,a),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.description[e]}}))))})},ge=function(e){var t=e.event,n=Object(a.useState)("fi"),c=Object(_.a)(n,2),o=c[0],l=c[1];if(!t)return r.a.createElement("div",null);return r.a.createElement(G.a,null,r.a.createElement(U.a,{className:"justify-content-center"},r.a.createElement(F.a,{md:8},r.a.createElement(J.a,null,r.a.createElement(Y.a,{className:"content-img",src:te(t.images)}),r.a.createElement(W.a,null,r.a.createElement(M.a,{tabs:!0,justified:!0},r.a.createElement(pe,{event:t,toggle:function(e){return o!==e?l(e):null},activaTab:o})),r.a.createElement(Ee.a,{activeTab:o},r.a.createElement(he,{event:t}))),r.a.createElement("a",{role:"button",className:"btn btn-outline-warning",target:"_blank",rel:"noopener noreferrer",href:ne(t),disabled:null===t.info_url},"Get The Ticket")))))},be=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(E.a)(t).call(this,e))).addMoreEvents=function(){return n.props.events.meta.next?n.props.fetchMoreEvents(n.props.events.meta.next):null},n.toggleModal=function(){n.setState({modalIsOpen:!n.state.modalIsOpen})},n.state={modalIsOpen:!0,isHide:!1},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchEvents()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(R,{show:!0}),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:function(){return r.a.createElement(ue,{addMoreEvents:e.addMoreEvents,events:e.props.events.events,eventsLoading:e.props.events.isLoading,moreEventsLoading:e.props.events.isMoreLoading,eventsErrMess:e.props.events.errMess,bookmark:e.props.events.bookmark})}}),r.a.createElement(f.a,{exact:!0,path:"/events/:id",component:function(t){var n=t.match;return r.a.createElement(ge,{event:e.props.events.events.filter(function(e){return e.id===n.params.id})[0]})}})),r.a.createElement(H,{show:this.state.isHide,toggleModal:this.toggleModal}))}}]),t}(r.a.Component),_e=Object(i.b)(function(e){return{events:e.events}},function(e){return{fetchEvents:function(){return e(function(e){e(v(!0)),fetch("api/events").then(function(e){if(e.ok)return e;var t=new Error("Error: ",e.status+", "+e.statusText);throw t.message=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){e(g(t))}).catch(function(t){return e(b(t.message))})})},fetchMoreEvents:function(t){return e(function(e){return function(t){t(h(!0)),fetch(e).then(function(e){if(e.ok)return e;var t=new Error("Error: "+e.status+", "+e.statusText);throw t.message=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(e){t(p(e))}).catch(function(e){return t(b(e.message))})}}(t))}}})(be),Ne=n(23),Oe=n(55),we=n(56),je=n.n(we),Me=n(57),ke=n(24),Le=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,isMoreLoading:!1,errMess:!1,events:[],meta:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOADING_EVENTS":return Object(ke.a)({},t,{isLoading:!0,errMess:null,events:[]});case"ADD_EVENTS":return Object(ke.a)({},t,{isLoading:!1,errMess:null,events:n.data.data,meta:n.data.meta});case"MORELOADING_EVENTS":return Object(ke.a)({},t,{isLoading:!1,errMess:null,isMoreLoading:!0});case"MORE_EVENTS":return Object(ke.a)({},t,{isLoading:!1,isMoreLoading:!1,errMess:null,events:(e=t.events).concat.apply(e,Object(Me.a)(n.data.data)),meta:n.data.meta});case"FAILED_EVENTS":return Object(ke.a)({},t,{isLoading:!1,errMess:n.data});default:return t}},Te=(n(80),n(81),n(82),n(83),n(84),Object(Ne.d)(Object(Ne.c)({events:Le}),Object(Ne.a)(Oe.a,je.a)));o.a.render(r.a.createElement(function(){return r.a.createElement(i.a,{store:Te},r.a.createElement(l.a,null,r.a.createElement(_e,null)))},null),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.bbdc5e33.chunk.js.map