(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t){e.exports="data:image/png;base64,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"},55:function(e,t,n){e.exports=n.p+"static/media/event.f63d8ca5.jpg"},62:function(e,t,n){e.exports=n(87)},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(17),c=n.n(o),s=n(25),i=n(31),l=n(44),u=n(45),m=n(60),d=n(46),E=n(61),f=n(21),p=function(e){return{type:"LOGIN_REQUEST",data:e}},g=function(e){return{type:"LOGIN_FAILED",data:e}},v=function(e){return{type:"SUCCESS_LOGIN",data:e}},h=function(){return{type:"LOGOUT_REQUEST"}},A=function(){return{type:"LOGOUT_SUCCESS"}},b=function(){return{type:"REQUEST_REGISTER"}},O=function(e){return{type:"REGISTER_SUCCESS",data:e}},S=function(e){return{type:"REGISTER_FAILED",data:e}},L=function(e){return{type:"MORE_EVENTS",data:e}},N=function(){return{type:"LOADING_EVENTS"}},w=function(){return{type:"MORELOADING_EVENTS"}},T=function(e){return{type:"ADD_EVENTS",data:e}},y=function(e){return{type:"FAILED_EVENTS",data:e}},I=n(11),j=n(96),q=n(97),C=n(48),k=n(114),M=n(88),D=n(89),R=n(90),K=n(91),Q=n(92),_=n(93),P=n(94),G=n(95),U=function(e){var t=Object(a.useState)(""),n=Object(I.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(""),i=Object(I.a)(s,2),l=i[0],u=i[1],m=Object(a.useState)(""),d=Object(I.a)(m,2),E=d[0],f=d[1],p=Object(a.useState)("none"),g=Object(I.a)(p,2),v=g[0],h=g[1],A=function(e){e.preventDefault(),h("none"===v?"":"none")};return r.a.createElement(k.a,{isOpen:e.isOpen},r.a.createElement(M.a,{toggle:e.toggleLogin},""!==v?"Sign in":"Sign Up"),r.a.createElement(D.a,null,r.a.createElement(R.a,{onSubmit:function(t){if(t.preventDefault(),E){if(E!==l)return null;e.handleRegister({username:o,password:l})}else e.handleLogin({username:o,password:l});e.toggleLogin(),c(""),u(""),f("")},id:"Form"},r.a.createElement(K.a,null,r.a.createElement(Q.a,{type:"text",id:"email",name:"username",placeholder:"Username",value:o,required:!0,onChange:function(e){var t=e.target;return c(t.value)}})),r.a.createElement(K.a,null,r.a.createElement(Q.a,{type:"password",id:"password",name:"password",placeholder:"Password",value:l,required:!0,onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement(K.a,{style:{display:v}},r.a.createElement(Q.a,{type:"password",id:"rpassword",name:"rpassword",placeholder:"Repeat Password",value:E,onChange:function(e){var t=e.target;return f(t.value)},required:""===v,invalid:E!==l})),r.a.createElement(C.a,{block:!0,color:"info"},"none"===v?"Login":"Create Account")),r.a.createElement("div",{style:{display:""===v?"none":""},className:"division"},r.a.createElement("div",{className:"left"}),r.a.createElement("span",null,"Or"),r.a.createElement("div",{className:"right"}),r.a.createElement(_.a,null,r.a.createElement(P.a,null,r.a.createElement("a",{href:"/",className:"btn btn-block btn-social btn-facebook"},r.a.createElement("span",{className:"fa fa-facebook fa-fw"}),"GitHub")),r.a.createElement(P.a,null,r.a.createElement("a",{href:"/",className:"btn btn-block btn-social btn-twitter"},r.a.createElement("span",{className:"fa fa-twitter fa-fw"}),"Facebook"))))),r.a.createElement(G.a,null,"none"===v?r.a.createElement("span",null,"Looking to create an account? ",r.a.createElement("a",{href:"#Form",onClick:A}," Create Account")):r.a.createElement("span",null,"Already have an account?",r.a.createElement("a",{href:"#Form",onClick:A}," Login"))))},x=n(113),X=n(50),V=n.n(X),H=function(e){var t=Object(a.useState)(!1),n=Object(I.a)(t,2),o=n[0],c=n[1];return r.a.createElement("div",{className:"popover-nav"},r.a.createElement("img",{id:"avatar",src:V.a,alt:"avatar"}),r.a.createElement("span",{id:"popoverNav"}," ",localStorage.getItem("user")),r.a.createElement(x.a,{placement:"bottom",isOpen:o,toggle:function(){return c(!o)},target:"popoverNav"},r.a.createElement(C.a,{color:"white",onClick:e.userLogout},r.a.createElement("span",{className:"fa fa-sign-out fa-lg"})," Logout")))},Y=function(e){var t=Object(a.useState)(!1),n=Object(I.a)(t,2),o=n[0],c=n[1],s=function(){return c(!o)};return e.show?r.a.createElement("div",{className:"header"},r.a.createElement(j.a,{fixed:"top",color:"white",expand:"md"},r.a.createElement(q.a,{href:"/"},"Events"),localStorage.getItem("token")?r.a.createElement(H,{userLogout:e.userLogout}):r.a.createElement(C.a,{color:"white",onClick:s,className:"ml-auto"},r.a.createElement("span",{className:"fa fa-sign-in fa-lg"})," Login")),r.a.createElement(U,{toggleLogin:s,isOpen:o,handleLogin:function(t){e.loginToAccount(t)},handleRegister:function(t){e.userRegister(t)}})):null},B=n(98),F=function(e){return e.show?null:r.a.createElement("div",null,r.a.createElement(B.a,null,r.a.createElement(_.a,{className:"text-center mt-3 mb-3"},r.a.createElement(P.a,null,r.a.createElement("ul",null,r.a.createElement("a",{className:"btn btn-social-icon btn-facebook",href:"/"},r.a.createElement("li",{className:"fa fa-facebook fa-lg"})),r.a.createElement("a",{className:"btn btn-social-icon btn-twitter",href:"/"},r.a.createElement("li",{className:"fa fa-twitter fa-lg"})),r.a.createElement("a",{className:"btn btn-social-icon btn-instagram",href:"/"},r.a.createElement("li",{className:"fa fa-instagram fa-lg"})),r.a.createElement("a",{className:"btn btn-social-icon btn-pinterest",href:"/"},r.a.createElement("li",{className:"fa fa-pinterest fa-lg"})))))))},J=n(99),z=(n(54),n(100)),W=n(101),Z=n(102),$=n(103),ee=n(105),te=n(106),ne=n(107),ae=n(108),re=n(109),oe=n(55),ce=n.n(oe),se=function(e){var t=Math.floor((+new Date(e.start_time)-+new Date(e.end_time))/60/1e3);return"".concat(Math.floor(t/60),":").concat("0".concat(t%60).slice(-2))},ie=function(e){return e.split(/[^0-9A-z]/).join("")},le=function(e,t){return Object.keys(t).reduce(function(e,n,a){return"".concat(e).concat(0===a?"?":"&").concat(n,"=").concat(encodeURIComponent(t[n]))},e)},ue=function(e){return e.length<1?ce.a:e.map(function(e){return e.url})[0]},me=function(e){return e.info_url?e.info_url.en?e.info_url.en:e.info_url.fi:"/"},de=function(e){return le("https://calendar.google.com/calendar/event",{action:"TEMPLATE",dates:"".concat(e.start_time?ie(e.start_time):"","/").concat(e.end_time?ie(e.end_time):""),text:e.name.en?e.name.en:e.name.fi,details:e.short_description?e.short_description.en?e.short_description.en:e.short_description.fi:"",location:e.location.name.en?e.location.name.en:e.location.name.fi})},Ee=function(e){return le("https://outlook.live.com/owa",{rru:"addevent",startdt:e.start_time?ie(e.start_time):"",enddt:e.end_time?ie(e.end_time):"",subject:e.name.en?e.name.en:e.name.fi,location:e.location.name.en?e.location.name.en:e.location.name.fi,body:e.short_description?e.short_description.en?e.short_description.en:e.short_description.fi:"",allday:!1,uid:(new Date).getTime().toString(),path:"/calendar/view/Month"})},fe=function(e){return le("https://calendar.yahoo.com",{v:60,view:"d",type:20,title:e.name.en?e.name.en:e.name.fi,st:e.start_time?ie(e.start_time):"",dur:se(e),desc:e.short_description?e.short_description.en?e.short_description.en:e.short_description.fi:"",in_loc:e.location.name.en?e.location.name.en:e.location.name.fi})},pe=function(e){var t=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:".concat(document.URL),"DTSTART:".concat(e.start_time?ie(e.start_time):""),"DTEND:".concat(e.end_time?ie(e.end_time):""),"SUMMARY:".concat(e.name.en?e.name.en:e.name.fi),"DESCRIPTION:".concat(e.short_description?e.short_description.en?e.short_description.en:e.short_description.fi:""),"LOCATION:".concat(e.location.name.en?e.location.name.en:e.location.name.fi),"END:VEVENT","END:VCALENDAR"];return encodeURI("data:text/calendar;charset=utf8,".concat(t.join("\n")))},ge=n(104),ve=function(e){var t=e.event,n=Object(a.useState)(!1),o=Object(I.a)(n,2),c=o[0],s=o[1];return r.a.createElement(ge.a,{isOpen:c,toggle:function(){s(!c)}},r.a.createElement(z.a,{outline:!0,color:"warning"},r.a.createElement("span",null,"Add to Calender")),r.a.createElement(W.a,{style:{zIndex:2222}},r.a.createElement(Z.a,{target:"_blank",href:de(t)},"Google"),r.a.createElement(Z.a,{target:"_blank",href:Ee(t)},"Outlook "),r.a.createElement(Z.a,{target:"_blank",href:fe(t)},"Yahoo"),r.a.createElement(Z.a,{href:pe(t)},"iCal")))},he=function(e){var t,n,a=e.event,o=a.name.en?a.name.en:a.name.fi,c=(t=a).short_description?t.short_description.en?t.short_description.en:t.short_description.fi:"";return r.a.createElement(P.a,{md:4},r.a.createElement(ee.a,{className:"card-wrapper"},r.a.createElement(s.b,{to:"/events/".concat(a.id),href:me(a)},r.a.createElement(te.a,{className:"img-thumbnail",src:ue(a.images)})),r.a.createElement("span",{className:"time"},(n=a.start_time,new Intl.DateTimeFormat("en-us",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(n)))," ",function(e){return e.split("T")}(a.start_time)[1].substring(0,5)),r.a.createElement(ne.a,null,r.a.createElement(ae.a,null,o?o.length<30?o:"".concat(o.substring(0,25),"..."):"event"),r.a.createElement(re.a,null,c?c.length<80?c:"".concat(c.substring(0,80),"..."):"description...")),r.a.createElement(ve,{event:a})))},Ae=function(e){var t=e.text;return r.a.createElement("div",{className:"splash-screen"},t,r.a.createElement("div",{className:"loading-dot"},"."))},be=function(e){return e.eventsLoading?r.a.createElement(Ae,null):e.eventsErrMess?r.a.createElement("h4",null,e.eventsErrMess):r.a.createElement(B.a,null,r.a.createElement(_.a,null,r.a.createElement(P.a,null)),r.a.createElement(_.a,null,e.events.map(function(e){return r.a.createElement(he,{key:e.id,event:e})}),e.moreEventsLoading?r.a.createElement(Ae,{text:"Wait a moment while we load your app."}):null,r.a.createElement(C.a,{color:"warning",block:!0,onClick:e.addMoreEvents},"More Events...")))},Oe=n(112),Se=n(4),Le=n.n(Se),Ne=n(110),we=function(e){var t=e.event,n=e.toggle,a=e.activaTab;return t.description?Object.keys(t.description).map(function(e){return r.a.createElement(J.a,{key:e},r.a.createElement(Ne.a,{className:Le()({active:a===e}),onClick:function(){return n(e)}},e))}):r.a.createElement("div",null,t.name.fi)},Te=n(111),ye=function(e){var t=e.event;if(console.log(t),!t.description)return r.a.createElement("div",null,"Information not provided yet");var n=Object.keys(t.description),a=t.name.en?t.name.en:t.name.fi;return n.map(function(e){return r.a.createElement(Te.a,{key:e,tabId:e},r.a.createElement(_.a,null,r.a.createElement(P.a,null,r.a.createElement(ae.a,null,a),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.description[e]}}))))})},Ie=function(e){var t=e.event,n=Object(a.useState)("fi"),o=Object(I.a)(n,2),c=o[0],s=o[1];if(!t)return r.a.createElement("div",null);return r.a.createElement(B.a,null,r.a.createElement(_.a,{className:"justify-content-center"},r.a.createElement(P.a,{md:8},r.a.createElement(ee.a,null,r.a.createElement(te.a,{className:"content-img",src:ue(t.images)}),r.a.createElement(ne.a,null,r.a.createElement($.a,{tabs:!0,justified:!0},r.a.createElement(we,{event:t,toggle:function(e){return c!==e?s(e):null},activaTab:c})),r.a.createElement(Oe.a,{activeTab:c},r.a.createElement(ye,{event:t}))),r.a.createElement("a",{role:"button",className:"btn btn-outline-warning",target:"_blank",rel:"noopener noreferrer",href:me(t),disabled:null===t.info_url},"Get The Ticket")))))},je=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).addMoreEvents=function(){return n.props.events.meta.next?n.props.fetchMoreEvents(n.props.events.meta.next):null},n.toggleModal=function(){n.setState({modalIsOpen:!n.state.modalIsOpen})},n.state={modalIsOpen:!0,isHide:!1},n}return Object(E.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchEvents()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Y,{show:!0,loginToAccount:this.props.loginToAccount,userRegister:this.props.userRegister,users:this.props.users,userLogout:this.props.userLogout}),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:function(){return r.a.createElement(be,{addMoreEvents:e.addMoreEvents,events:e.props.events.events,eventsLoading:e.props.events.isLoading,moreEventsLoading:e.props.events.isMoreLoading,eventsErrMess:e.props.events.errMess,bookmark:e.props.events.bookmark})}}),r.a.createElement(f.a,{exact:!0,path:"/events/:id",component:function(t){var n=t.match;return r.a.createElement(Ie,{event:e.props.events.events.filter(function(e){return e.id===n.params.id})[0]})}})),r.a.createElement(F,{show:this.state.isHide,toggleModal:this.toggleModal}))}}]),t}(r.a.Component),qe=Object(i.b)(function(e){return{events:e.events,users:e.users}},function(e){return{fetchEvents:function(){return e(function(e){e(N(!0)),fetch("api/events").then(function(e){if(e.ok)return e;var t=new Error("Error: ",e.status+", "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(t){e(T(t))}).catch(function(t){return e(y(t.message))})})},fetchMoreEvents:function(t){return e(function(e){return function(t){t(w(!0)),fetch(e).then(function(e){if(e.ok)return e;var t=new Error("Error: "+e.status+", "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(e){t(L(e))}).catch(function(e){return t(y(e.message))})}}(t))},loginToAccount:function(t){return e((n=t,function(e){e(p(n)),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(t){if(!t.success){var a=new Error("Error "+t.status);throw a.response=t,a}localStorage.setItem("token",t.token),localStorage.setItem("user",n.username),e(v(t))}).catch(function(t){return e(g(t.message))})}));var n},userRegister:function(t){return e((n=t,function(e){e(b()),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(n)}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+", "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){if(!e.success){var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}localStorage.setItem("token",e.token),localStorage.setItem("user",n.username)}).then(function(t){return e(O(t))}).catch(function(t){return e(S(t.message))})}));var n},userLogout:function(){return e(function(e){e(h()),localStorage.removeItem("token"),localStorage.removeItem("user"),e(A())})}}})(je),Ce=n(24),ke=n(57),Me=n(58),De=n.n(Me),Re=n(59),Ke=n(10),Qe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,isMoreLoading:!1,errMess:!1,events:[],meta:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOADING_EVENTS":return Object(Ke.a)({},t,{isLoading:!0,errMess:null,events:[]});case"ADD_EVENTS":return Object(Ke.a)({},t,{isLoading:!1,errMess:null,events:n.data.data,meta:n.data.meta});case"MORELOADING_EVENTS":return Object(Ke.a)({},t,{isLoading:!1,errMess:null,isMoreLoading:!0});case"MORE_EVENTS":return Object(Ke.a)({},t,{isLoading:!1,isMoreLoading:!1,errMess:null,events:(e=t.events).concat.apply(e,Object(Re.a)(n.data.data)),meta:n.data.meta});case"FAILED_EVENTS":return Object(Ke.a)({},t,{isLoading:!1,errMess:n.data});default:return t}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),user:localStorage.getItem("creds")?JSON.stringify(localStorage.getItem("creds")):null,token:localStorage.getItem("token"),errMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(Ke.a)({},e,{isLoading:!0,isAuthenticated:!1,user:t.data});case"SUCCESS_LOGIN":return Object(Ke.a)({},e,{isLoading:!1,isAuthenticated:!0,token:t.data,errMess:null});case"LOGIN_FAILED":return Object(Ke.a)({},e,{isLoading:!1,isAuthenticated:!1,errMess:t.data});case"REQUEST_REGISTER":return Object(Ke.a)({},e,{isLoading:!0,isAuthenticated:!1,errMess:null});case"REGISTER_SUCCESS":return Object(Ke.a)({},e,{isLoading:!1,isAuthenticated:!0,token:t.data,errMess:null});case"REGISTER_FAILED":return Object(Ke.a)({},e,{isLoading:!1,isAuthenticated:!1,errMess:t.data});case"LOGOUT_REQUEST":return Object(Ke.a)({},e,{isLoading:!0,isAuthenticated:!0});case"LOGOUT_SUCCESS":return Object(Ke.a)({},e,{isLoading:!1,isAuthenticated:!1,token:null,user:null});case"LOGOUT_FAILED":return Object(Ke.a)({},e,{errMess:t.data});default:return e}},Pe=(n(82),n(83),n(84),n(85),n(86),Object(Ce.d)(Object(Ce.c)({events:Qe,users:_e}),Object(Ce.a)(ke.a,De.a)));c.a.render(r.a.createElement(function(){return r.a.createElement(i.a,{store:Pe},r.a.createElement(s.a,null,r.a.createElement(qe,null)))},null),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.3cc36108.chunk.js.map